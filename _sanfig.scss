// Copyright (C) 2016 Colin Fulton
// All rights reserved.
//
// This software may be modified and distributed under the
// terms of the three-clause BSD license. See LICENSE.txt
// (located in root directory of this project) for details.

@function sanfig_deep_map_get($map, $keys...) {
  $output: $map;

  @each $key in $keys {
    $output: if(
               (type_of($output) == map),
               map_get($output, $key),
               null
             );
  }

  @return $output;
}

// Internal Functions
//   - only for use by library functions
//   - not guaranteed to be stable thus not for use outside of the library

@function _sanfig_lookup_chain($map, $keys...) {
  $chain: append((), $map);

  $layer: ();
  @each $key in $keys {
    $layer: append($layer, $key);
    $chain: append(
              $chain,
              sanfig_deep_map_get($map, $layer...)
            );
  }

  @return $chain;
}
